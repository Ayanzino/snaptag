<html>
	<header>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<script>
			function displayCoolAnimation(){
				var username = document.getElementById("username").value;
				if(username.search(/^[a-zA-z0-9]{1,}$/)!=-1){
					document.getElementById("imageTag").src = "fig.gif";
					document.getElementById("username").disabled = true;
				//	document.getElementById("mainButton").innerHTML = "buy stickers";
				//	document.getElementById("mainButton").href="http://justinleger.ca";
					document.getElementById("mainButton").style.display = "none";
					document.getElementById("secondButton").style.display="block";
					setTimeout(function() {fill();}, 1500);
				} else {
					alert("Invalid username");
				}
				return false;
			}
			function fill(){
				document.getElementById("mainButton").href="http://justinleger.ca";
				var username = document.getElementById("username").value;
				var imageTag = document.getElementById("imageTag");
				imageTag.src="https://feelinsonice-hrd.appspot.com/web/deeplink/snapcode?username="+username+"&type=PNG&size=400";
			}
			function changeUsername(){
				document.getElementById("username").disabled = false;
				document.getElementById("username").value="";
				document.getElementById("secondButton").style.display = "none";
				document.getElementById("mainButton").style.display = "block";
				document.getElementById("mainButton").innerHTML = "Generate Snap Tag";
				document.getElementById("mainButton").href="#";
			}
		</script>
		<style>
			@font-face {
   				font-family: helveticaNL;
    				src: url(HelveticaNeue-Light.otf);
			}
			body{
				padding-top:20px;
				font-family: helveticaNL;
				display: table-cell;
    				vertical-align: middle;
				width:400px;
			}
			html, body {
 			   height: 100%;
			}

			html {
			    display: table;
			    margin: auto;
			}
			.button{
	
				width: 240px!important;
				display: inline-block;
    				background-color: transparent;
    				border-width: 0.2em;
				min-height: 1em;
				margin: 0 0 0 0;
    				padding: 13px 1.5em;
    				border-style: solid;
    				margin-top: 0px;
				color:black;
				text-decoration:none;
				text-align: center;
				border-radius: 5px;
				font-weight: 700;
			}
			input[type=text]{
        			border: 0px;
        			background: transparent;
				min-width: 240px!important;
                                display: inline-block;
    			}
			#username{
 				 color:black;
				font-weight:700
				min-height: 1em;
                                padding: 13px 1.5em;
				text-align:center;
				width:400px;
				font-size:16px;
			}
			form{
				margin:0;
				width:400px;
				padding:0;
			}

			::-webkit-input-placeholder { /* WebKit, Blink, Edge */
			    color:    black;
			}
			:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
			   color:    black;
			   opacity:  1;
			}
			::-moz-placeholder { /* Mozilla Firefox 19+ */
			   color:    black;
			   opacity:  1;
			}
			:-ms-input-placeholder { /* Internet Explorer 10-11 */
			   color:    black;
			}
			textarea:focus, input:focus{
 			   outline: none;
			}
		</style>
	</header>
	<body>	
		<div align="center">

			<img src="snapcode.png" id="imageTag"/>
			<br>
			<form onsubmit="return displayCoolAnimation()">
				<input type="text" id="username" placeholder="enter snapchat username"onfocus="this.placeholder = ''" onblur="this.placeholder = 'enter snapchat username'"autocomplete="off">
			</form>
			<a class="button" id="mainButton" onclick="displayCoolAnimation()">Generate Snap Tag</a>
			<br>
			<br>
			<a class="button" id="secondButton" onclick="changeUsername()" style ="display:none;">Change Username</a>
		</div>
	</body>
<html>
